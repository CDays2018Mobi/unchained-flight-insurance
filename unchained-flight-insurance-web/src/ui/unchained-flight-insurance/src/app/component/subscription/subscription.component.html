<p-card title="Delayed flight insurance" subtitle="Subscription" styleClass="transparent">

  <form [formGroup]="form">

    <div class="ui-inputgroup">
      <span class="ui-inputgroup-addon"><i class="fa fa-plane"></i></span>
      <input formControlName="flightId" type="text" pInputText placeholder="Flight number" (change)="flightChanged()">
    </div>
    <div class="ui-inputgroup">
      <span class="ui-inputgroup-addon"><i class="fa fa-calendar"></i></span>
      <p-calendar formControlName="arrivalDate" [showIcon]="true" dateFormat="yy-mm-dd"
                  placeholder="Arrival date" (onSelect)="flightChanged()"></p-calendar>
    </div>
    <div class="ui-inputgroup">
      <span class="ui-inputgroup-addon"><i class="fa fa-ticket"></i></span>
      <input formControlName="ticketId" type="text" pInputText placeholder="Ticket id">
    </div>

    <br>

    <div>
      <p-listbox [options]="riskCoverageItems" formControlName="riskCoverage">
        <ng-template let-level let-i="index" pTemplate="item">
          <table cellspacing="10">
            <tr>
              <td><img src="assets/img/level/{{level.label}}.png" height="50"></td>
              <td><strong>{{level.label}}</strong>
                <br>Insured amount CHF {{level.value.insuredAmount}}
                <br>Premium amount CHF {{level.value.premiumAmount}}</td>
            </tr>
          </table>
        </ng-template>
      </p-listbox>
    </div>

    <br>

    <div class="ui-inputgroup">
      <span class="ui-inputgroup-addon"><i class="fa fa-envelope"></i></span>
      <input formControlName="email" type="email" pInputText placeholder="Email address">
    </div>
  </form>

  <p-footer>
    <button pButton type="button" label="Pay" icon="fa fa-check" [disabled]="form.invalid" (click)="submit()"></button>
  </p-footer>

</p-card>
